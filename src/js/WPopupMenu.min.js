WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"WPopupMenu",function(q,c,r){function i(){j(c,null);c.style.display="none";setTimeout(function(){q.emit(c.id,"cancel")},0)}function s(a,b){$(a).toggleClass("active",b)}function k(a){if(a.subMenu)return a.subMenu;else{var b=a.lastChild;if(b&&d.hasTag(b,"UL")){a.subMenu=b;b.parentItem=a;$(b).mousemove(t);l(b);return b}else return null}}function z(a){a.style.display="block";if(a.parentNode==a.parentItem){a.parentNode.removeChild(a);c.parentNode.appendChild(a)}var b=
d.px(a,"paddingTop")+d.px(a,"borderTopWidth");d.positionAtWidget(a.id,a.parentItem.id,d.Horizontal,-b);j(a,null)}function j(a,b){function u(h,e){if(h==e)return true;else if(e)return(e=e.parentNode.parentItem)?u(h,e):false;else return false}function m(h){var e,v;e=0;for(v=h.childNodes.length;e<v;++e){var f=h.childNodes[e];if(u(f,b)){if(f!==b)(f=k(f))&&m(f)}else{s(f,false);if(f=k(f)){f.style.display="none";m(f)}}}}m(a)}function t(a){for(a=d.target(a);a&&!d.hasTag(a,"LI")&&!d.hasTag(a,"UL");)a=a.parentNode;
if(d.hasTag(a,"LI"))if(a!==n){n=a;s(a,true);var b=k(a);b&&z(b);j(c,a)}}function A(){o=false;clearTimeout(g);if(r>=0)g=setTimeout(i,r)}function B(){o=true;clearTimeout(g)}function l(a){$(a).mouseleave(A).mouseenter(B)}function p(){return document.getElementById(c.id)!=null}function w(a){p()&&d.button(a)!=1&&i()}function x(){p()&&i()}function y(a){p()&&a.keyCode==27&&i()}jQuery.data(c,"obj",this);var d=q.WT,g=null,o=false,n=null;this.setHidden=function(a){if(g){clearTimeout(g);g=null}o=false;n=null;
if(a){c.style.position="";c.style.display="";c.style.left="";c.style.top="";$(document).unbind("mousedown",w);$(document).unbind("click",x);$(document).unbind("keydown",y)}else{setTimeout(function(){$(document).bind("mousedown",w);$(document).bind("click",x);$(document).bind("keydown",y)},0);c.style.display="block"}j(c,null)};this.popupAt=function(a){l(a)};setTimeout(function(){l(c)},0);$(c).mousemove(t)});
